import{u as j,a as y}from"./admin-84180614.js";import{_ as z}from"./AddButton.vue_vue_type_script_setup_true_lang-1faad7b7.js";import{d as M,u as q,g as p,h as E,r as o,i as G,c as m,b as t,w as r,j as h,F as b,o as d,k as K,l as s,a as l,m as O,n as k,t as A,q as U}from"./index-8a7c54d3.js";import{_ as H}from"./LockButton.vue_vue_type_style_index_0_lang-d0e7d944.js";import{_ as I}from"./DeleteButton.vue_vue_type_script_setup_true_lang-33d37ec2.js";import"./customers-533e8710.js";const J={key:0},Q={key:0,class:"border-round border-1 surface-border p-4 surface-card"},W={class:"grid p-fluid"},X={class:"field col-12 md:col-6 lg:col-4"},Y={class:"p-float-label"},Z={class:"flex justify-content-between mt-3"},ee={class:"p-paginator-pages"},te=l("div",{class:"no-data-message",style:{height:"100px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",padding:"20px","background-color":"#f9f9f9","border-radius":"5px","box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)"}},[l("p",{style:{"font-size":"18px","font-weight":"bold",color:"#888"}}," لا يوجد بيانات ")],-1),ae={key:0},ce=M({__name:"AdminsRecords",setup(ne){const e=j(),c=q();p();const u=p(!1);p(!1),E(()=>{e.getAdmins()}),p([{value:!0,label:"نشط"},{value:!1,label:"غير نشط"}]);const v=n=>{if(n==!0)return"نشط";if(n==!1)return"غير نشط"},w=n=>{switch(v(n)){case"نشط":return"success";case"غير نشط":return"danger"}},x=n=>v(n),S=()=>{e.currentPage<e.totalPages&&(e.currentPage+=1,e.pageNumber+=1,e.loading=!0,e.getAdmins())},P=()=>{e.currentPage>1&&(e.currentPage-=1,e.pageNumber-=1,e.loading=!0,e.getAdmins())},R=n=>{u.value=!0,y.remove(n).then(i=>{c.add({severity:"success",summary:"تم الحذف",detail:i.data.msg,life:3e3}),e.getAdmins()}).catch(i=>{c.add({severity:"error",summary:"رسالة خطأ",detail:i.response.data.msg,life:3e3})}).finally(()=>{u.value=!1})};function T(n){u.value=!0,y.block(n).then(i=>{c.add({severity:"success",summary:"رسالة تأكيد",detail:i.data.msg,life:3e3}),e.getAdmins()}).catch(i=>{c.add({severity:"error",summary:"رسالة خطأ",detail:i.response.data.msg,life:3e3})}).finally(()=>{u.value=!1})}function C(n){u.value=!0,y.unblock(n).then(i=>{c.add({severity:"success",summary:"رسالة تأكيد",detail:i.data.msg,life:3e3}),e.getAdmins()}).catch(i=>{c.add({severity:"error",summary:"رسالة خطأ",detail:i.response.data.msg,life:3e3})}).finally(()=>{u.value=!1})}return(n,i)=>{const N=o("RouterView"),B=o("Divider"),f=o("Skeleton"),_=o("Button"),g=o("Column"),D=o("Tag"),L=o("RouterLink"),V=o("DataTable"),F=o("card"),$=G("tooltip");return d(),m(b,null,[t(N),n.$route.path==="/AdminsRecord"?(d(),m("div",J,[t(F,null,{title:r(()=>[K(" سجل المستخدمين "),t(z,{"name-button":"اضافة مستخدم","rout-name":"/AdminsRecord/AddAdmin"}),t(B)]),content:r(()=>[s(e).loading?(d(),m("div",Q,[l("div",W,[(d(),m(b,null,O(9,a=>l("div",X,[l("span",Y,[t(f,{width:"100%",height:"2rem"})])])),64))]),t(f,{width:"100%",height:"100px"}),l("div",Z,[t(f,{width:"100%",height:"2rem"})])])):(d(),k(V,{key:1,ref:"dt",value:s(e).userData,dataKey:"id",paginator:!0,rows:5,paginatorTemplate:"",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"عرض {first} الى {last} من {totalRecords} عميل",responsiveLayout:"scroll",pageLinkSize:s(e).totalPages,currentPage:s(e).currentPage-1},{paginatorstart:r(()=>[t(_,{icon:"pi pi-angle-right",class:"p-button-rounded p-button-primary p-paginator-element",disabled:s(e).currentPage===1,onClick:P},null,8,["disabled"]),l("span",ee," الصفحة "+A(s(e).currentPage)+" من "+A(s(e).totalPages),1)]),paginatorend:r(()=>[t(_,{icon:"pi pi-angle-left",class:"p-button-rounded p-button-primary p-paginator-element",disabled:s(e).currentPage===s(e).totalPages,onClick:S},null,8,["disabled"])]),empty:r(()=>[te]),default:r(()=>[t(g,{field:"displayName",header:"اسم المستخدم",style:{"min-width":"10rem"},class:"font-bold"}),t(g,{field:"isActive",header:"  الحاله ",filterField:"status",style:{width:"2rem"},showFilterMenu:!1,filterMenuStyle:{width:"4rem"}},{body:r(({data:a})=>[t(D,{value:x(a.isActive),severity:w(a.isActive)},null,8,["value","severity"])]),_:1}),t(g,{field:"email",header:"البريد الإلكتروني",style:{"min-width":"10rem"}}),t(g,{style:{"min-width":"13rem"}},{body:r(a=>[a.data.status!==5?(d(),m("span",ae,[t(I,{name:a.data.displayName,id:a.data.id,onSubmit:()=>R(a.data.id),type:"User"},null,8,["name","id","onSubmit"])])):h("",!0),(d(),k(L,{key:a.data.id,to:"/AdminsRecord/AdminsProfile/"+a.data.id,style:{"text-decoration":"none"}},{default:r(()=>[U(t(_,{icon:"fa-solid fa-circle-info",severity:"info",text:"",rounded:""},null,512),[[$,{value:"التفاصيل",fitContent:!0}]])]),_:2},1032,["to"])),t(H,{typeLock:"Admins",id:a.data.id,name:a.data.id,status:a.data.isActive,onGetdata:i[0]||(i[0]=()=>s(e).getAdmins()),onSubmit:()=>a.data.isActive?C(a.data.id):T(a.data.id)},null,8,["id","name","status","onSubmit"])]),_:1})]),_:1},8,["value","pageLinkSize","currentPage"]))]),_:1})])):h("",!0)],64)}}});export{ce as default};

import{J as B,d as z,g as s,s as L,h as F,r as l,n as b,w as o,L as y,o as u,k as w,b as a,c as x,a as n,F as O,m as Y,t as h,M as R}from"./index-8a7c54d3.js";const k=B(),V={get:async function(d,r){return await k.get("/Audits",{params:{PageNumber:d,PageSize:r}})},getById:async function(d){return await k.get(`/Audits/${d}`)}},j={key:0,class:"border-round border-1 surface-border p-4 surface-card"},E={class:"grid p-fluid"},I={class:"field col-12 md:col-6 lg:col-4"},H={class:"p-float-label"},J={class:"flex justify-content-between mt-3"},K={class:"p-paginator-pages"},Q=n("div",{class:"no-data-message",style:{height:"100px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",padding:"20px","background-color":"#f9f9f9","border-radius":"5px","box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)"}},[n("p",{style:{"font-size":"18px","font-weight":"bold",color:"#888"}}," لا يوجد بيانات ")],-1),$=z({__name:"AuditsRecord",setup(d){const r=s(),c=s(),i=s(1),p=s(1),P=s(10),e=s(0);L({global:{value:"",matchMode:y.CONTAINS},status:{value:"",matchMode:y.EQUALS}});function C(t){return R(t).format("YYYY/MM/DD | hh:mm A")}F(async()=>{g()});function g(){V.get(p.value,P.value).then(function(t){console.log(t),r.value=t.data.content,i.value=t.data.totalPages,e.value=t.data.currentPage,c.value=!1}).catch(function(t){console.log(t)})}const M=()=>{e.value<i.value&&(e.value+=1,p.value+=1,c.value=!0,g())},N=()=>{e.value>1&&(e.value-=1,p.value-=1,c.value=!0,g())};return(t,S)=>{const T=l("Divider"),m=l("Skeleton"),v=l("Button"),f=l("Column"),D=l("DataTable"),A=l("card");return u(),b(A,null,{title:o(()=>[w(" سجل الحركات "),a(T)]),content:o(()=>[c.value?(u(),x("div",j,[n("div",E,[(u(),x(O,null,Y(9,_=>n("div",I,[n("span",H,[a(m,{width:"100%",height:"2rem"})])])),64))]),a(m,{width:"100%",height:"100px"}),n("div",J,[a(m,{width:"100%",height:"2rem"})])])):(u(),b(D,{key:1,ref:"dt",value:r.value,dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"  عرض {first} الى {last} من {totalRecords} عميل",pageLinkSize:i.value,currentPage:e.value-1,paginatorTemplate:"  "},{paginatorstart:o(()=>[a(v,{icon:"pi pi-angle-right",class:"p-button-rounded p-button-primary p-paginator-element",disabled:e.value===1,onClick:N},null,8,["disabled"]),n("span",K," الصفحة "+h(e.value)+" من "+h(i.value),1)]),paginatorend:o(()=>[a(v,{icon:"pi pi-angle-left",class:"p-button-rounded p-button-primary p-paginator-element",disabled:e.value===i.value,onClick:M},null,8,["disabled"])]),empty:o(()=>[Q]),default:o(()=>[a(f,{field:"type",header:"الحركة",style:{width:"2rem"},class:"font-bold"}),a(f,{field:"userName",header:"تمت بواسطة",style:{width:"2rem"},class:"font-bold"}),a(f,{field:"occuredOn",header:"  حدث في ",style:{width:"4rem"},showFilterMenu:!1},{body:o(_=>[w(h(C(_.data.occuredOn)),1)]),_:1})]),_:1},8,["value","pageLinkSize","currentPage"]))]),_:1})}}});export{$ as default};
